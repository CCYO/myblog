<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>會員後台－列表頁</title>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body>
    <div id='showBlogList'>
  </div>
  <script>
    const get = (api) => {
      return $.get(api)
    }
    
    //api
    let api = '/api/blog/list?admin=1'
    
    get(api)
    .then(result => {
        if(result.errno){
            $('#showBlogList').append(`you have to login`)
            return
        }
        let data = result.data
alert(data)
        let html = data.map( item =>
            `<div>
                <a href="/detail.html?id=${item.id}">${item.title}</a>|
                <span>${item.createtime}</p>
                <a href="/api/blog/updateBlog">update</a>|<a href="/api/blog/delBlog">delete</a>
            </div>`
        )
        html.unshift(`<div>Welcome!${data[0].author}~</div>`)        
$('#showBlogList').append(...html)
        return 
    })
    
    
    

  </script>
</body>

</html>
